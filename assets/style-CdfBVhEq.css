@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap";:root{font-size:100%;--clr-text-light: #ffffff;--clr-menu-grad-1: rgba(20,20,30,.7);--clr-menu-grad-2: rgba(60,20,60,.7);--clr-widget-bg: rgba(255,255,255,.05);--glass-bg: rgba(255,255,255,.25);--glass-blur: blur(.625rem);--widget-gap: .8rem;--ui-font-size: 1.14rem}*{box-sizing:border-box;margin:0;padding:0}body{font-family:Roboto,sans-serif;font-size:var(--ui-font-size)*2;color:var(--clr-text-light);background:linear-gradient(135deg,var(--clr-menu-grad-1),var(--clr-menu-grad-2)),url(../img/bg_conway.jpg) center/cover no-repeat fixed;margin:0;padding:0;height:100%;overflow:hidden}.stat-line{display:flex;white-space:nowrap;font-family:monospace;text-align:left}.stat-label{display:inline-block;text-align:left;white-space:nowrap;margin-left:0ch;margin-right:0ch}.stat-value{display:inline-block;width:4ch;text-align:right;margin-left:0ch;margin-right:0ch}.stat-value-dec{display:inline-block;width:7ch;text-align:right;margin-left:0ch;margin-right:0ch}.range-group label,.grid-size-options label,.option,#modeButtons button,.speed-controls button,#soundToggle+label,#menuButton,#difficultyValue,#breathValue,#reinforcementsValue,.stat,.sub{font-family:Roboto Mono,monospace;font-variant-numeric:tabular-nums;font-size:calc(var(--ui-font-size) * 1.2)}.material-icons{font-family:Material Icons;font-size:calc(var(--ui-font-size) * 1.2);line-height:1;vertical-align:middle}body.in-game{background:#000;display:flex;height:100vh;overflow:hidden}#startScreen{position:fixed;top:5vh;bottom:5vh;left:25vw;right:25vw;width:auto;height:auto;overflow:hidden;max-width:90vw;max-height:100vh;margin:auto;padding:2vw;border-radius:2vw;background:var(--glass-bg);backdrop-filter:var(--glass-blur);text-align:center;overflow-y:auto;font-size:calc(.75rem + 1vw);box-shadow:0 .5rem 2rem #0000004d}#startScreen h1{font-family:Orbitron,sans-serif;font-size:2.2em;letter-spacing:.125em;margin-bottom:.3em;text-transform:uppercase}.range-group{margin:2vh 0}.range-group label{display:block;margin-bottom:1vh}input[type=range].slider{appearance:none;-webkit-appearance:none;width:100%;height:.2em;border-radius:.2em;background:linear-gradient(90deg,var(--fill, #8e24aa) var(--progress, 50%),rgba(255,255,255,.15) 0);outline:none;transition:background .2s}input[type=range].slider::-webkit-slider-thumb{appearance:none;-webkit-appearance:none;width:1.2em;height:1.2em;border-radius:50%;background:#fff;border:.225em solid var(--fill, #8e24aa);box-shadow:0 0 .5em var(--fill, #8e24aa);cursor:pointer;transition:transform .1s}input[type=range].slider:active::-webkit-slider-thumb{transform:scale(1.15)}input[type=range].slider::-moz-range-thumb{border-radius:50%;background:#fff;width:2em;height:2em;border:.125em solid var(--fill, #8e24aa)}.grid-size-options{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;margin:.5em 0}.grid-size-options label{position:relative;cursor:pointer}.grid-size-options input{position:absolute;inset:0;width:100%;height:100%;opacity:0;z-index:2}.option{display:block;padding:2vh 1vw;border-radius:.5em;text-align:center;background:var(--clr-widget-bg);transition:transform .1s,box-shadow .2s}.option small{display:block;font-size:.75em;color:#ccc}.grid-size-options input:checked+.option{box-shadow:0 0 0 .1875em var(--clr-text-light);transform:scale(1.1)}#modeButtons{display:flex;gap:2vw;margin-top:2vh}#modeButtons button{flex:1;border:none;color:#fff;cursor:pointer;transition:background .2s;padding:1.5vh 1vw;font-size:1em;border-radius:.5em}#startBtn{background:#6a1b9a}#startBtn:hover{background:#4a148c}#resumeBtn{background:#00acc1}#resumeBtn:hover{background:#00838f}#howBtn{background:#ff9800}#howBtn:hover{background:#fb8c00}#modeButtons button:disabled{opacity:.5;cursor:default}#helpOverlay[hidden]{display:none!important}#helpOverlay{position:fixed;inset:0;background:#000000a6;display:flex;align-items:center;justify-content:center;z-index:999}.help-box{max-width:90vw;max-height:85vh;overflow-y:auto;padding:.4rem .8rem;background:#1e1e28f2;border-radius:1rem;box-shadow:0 6px 30px #00000073;color:#fff;font:400 .9rem/1.4 Montserrat,sans-serif;word-break:break-word;hyphens:auto}.help-box h2{margin-top:0;font-weight:600;text-align:center}.help-box p{padding-left:1.2em;text-indent:-.9em;margin:.4rem 0;line-height:1.35}.help-box ul{margin:.8rem 0 1rem;padding-left:1.2em;list-style-type:disc;line-height:1.45}.help-box ul li{margin:0 0 .15rem;text-indent:0}.help-box button{padding:.7em;width:100%;border:none;border-radius:.6em;font-size:1.3em;background:#6a1b9a;color:#fff;cursor:pointer;transition:background .2s}.help-box button:hover{background:#4a148c}#gameScreen{display:none;overflow:hidden;height:100vh}body.in-game #startScreen{display:none}body.in-game #gameScreen{display:none;height:98%;overflow:hidden}#fieldWrapper{flex:1;display:flex;justify-content:center;box-sizing:border-box;align-items:center;padding:1em}#gameCanvas{background:#111;border:none;box-shadow:0 0 .5rem #00000080;border-radius:.5rem;display:block;width:100%;height:98%;box-sizing:border-box}#sidebar{width:19%;display:flex;flex-direction:column;justify-content:center;gap:1%;background:linear-gradient(180deg,#22203a,#1a162f);padding:.5%;box-shadow:-.25rem 0 1rem #00000080;font-size:.85em}.widget{background:var(--clr-widget-bg);border-radius:8%;padding:.6%;text-align:center}.widget h2{font-family:Orbitron,sans-serif;font-size:calc(var(--ui-font-size) * .85);margin-bottom:.05rem}.stat{font-family:Orbitron,monospace;font-size:calc(var(--ui-font-size) * .75);line-height:1;margin-bottom:.2rem;text-align:left}.speed-controls{display:flex;justify-content:center;gap:5%}.speed-controls button{width:2em;height:2em;font-size:100%;border:none;border-radius:.5em;background:#ffffff1a;color:var(--clr-text-light);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}.speed-controls button.active,.speed-controls button:hover{background:#ffffff59}#soundToggle{position:absolute;opacity:0;pointer-events:none;z-index:-1;font-size:calc(var(--ui-font-size) * .9)}.icon-btn{width:1.4em;height:1.4em;display:flex;justify-content:center;align-items:center;border:none;border-radius:.5em;background:#ffffff1a;color:var(--clr-text-light);font-size:1.4em;cursor:pointer;transition:background .2s,transform .2s}.icon-btn:hover{background:#ffffff40;transform:translateY(-2px)}.icon-btn:active{transform:scale(.95)}.icon-btn.active{background:#6a1b9acc;color:#fff;box-shadow:0 0 .5rem #6a1b9a99}.sound-toggle+label i:before{content:"volume_up"}.sound-toggle:not(:checked)+label i:before{content:"volume_off"}.sound-widget{display:flex;align-items:center;justify-content:center;gap:.3rem;background:var(--clr-widget-bg);padding:.1em .3em}#difficultyDisplay{font-family:Orbitron,monospace;font-size:calc(var(--ui-font-size) * 1)}*,*:before,*:after{box-sizing:border-box!important}#compassBox{background:var(--clr-widget-bg);height:clamp(0rem,50vw,100rem);aspect-ratio:1 / 1;padding:1vw;border-radius:1vw;margin:2vh auto;display:flex;align-items:center;justify-content:center;gap:.5vw;font-size:calc(.75rem + .5vw)}#compassBox h2,#compassBox h3{width:80%;height:80%;font-size:1em;margin:0;text-align:center;object-fit:contain}#compassCanvas{width:80%;height:80%;object-fit:contain}#gameOverScreen{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);padding:3rem 4rem;max-width:80%;border-radius:1.25rem;font-family:Orbitron,sans-serif;text-transform:uppercase;letter-spacing:.125rem;text-align:center;color:#fff;box-shadow:0 .625rem 3.125rem #000c;opacity:.9;animation:gameOverPop .6s ease-out forwards}@keyframes gameOverPop{to{transform:translate(-50%,-50%) scale(1)}}#gameOverScreen.win{background:linear-gradient(145deg,#327832e6,#50aa50e6)}#gameOverScreen.lose{background:linear-gradient(145deg,#961e1ee6,#dc3232e6)}#gameOverMessage{font-size:3rem;margin-bottom:1rem}#menuButton{background:#ffffff1a;color:#fff;padding:1rem 2rem;border:.125rem solid #fff;border-radius:.75rem;cursor:pointer;transition:background .3s,transform .2s}#menuButton:hover{background:#fff3;transform:scale(1.05)}#menuButton:active{transform:scale(.95)}.modal{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;z-index:3000}.modal.hidden{display:none}.modal-backdrop{position:absolute;inset:0;background:#0009}.modal-content{position:relative;background:#2a2936;padding:1.5rem;border-radius:.75rem;box-shadow:0 .5rem 2rem #000c;max-width:20rem;text-align:center;color:#fff}.modal-content p{margin-bottom:1.25rem;font-family:Montserrat,sans-serif;font-size:1rem}.modal-buttons{display:flex;justify-content:space-between;gap:1rem}.modal-buttons button{flex:1;padding:.75rem;font-size:.875rem;border:none;border-radius:.5rem;cursor:pointer;background:#6a1b9a;color:#fff;transition:background .2s}.modal-buttons button:hover{background:#4a148c}#overwriteCancel{background:#aaa;color:#222}#overwriteCancel:hover{background:#888}#langBar{display:flex;justify-content:flex-end;margin:0 0 1rem}#langSwitch{appearance:none;-webkit-appearance:none;-moz-appearance:none;padding:.45rem 1.1rem;border-radius:9999px;border:1px solid rgba(255,255,255,.35);background:#ffffff14;backdrop-filter:blur(6px);font:600 .9rem/1 Montserrat,sans-serif;color:#33f;cursor:pointer;transition:background .2s,border-color .2s}.slider-group{margin:2vh 0}.slider-group label{display:grid;grid-template-columns:18ch 5ch 12ch;align-items:center;justify-content:start;text-align:left;column-gap:1ch;width:100%}.valueText{text-align:right;font-variant-numeric:tabular-nums}.levelText{text-align:right}input[type=range].slider{width:100%;margin-top:.5em}.i18n[title]{cursor:help}.frame{position:relative;overflow:hidden}.tooltip{position:relative;cursor:help;display:inline-block}.tooltip:after{content:attr(data-tip);position:absolute;top:0%;left:30%;transform:translate(-50%);max-width:90%;box-sizing:border-box;white-space:normal;background:#000c;color:#fff;font:.85rem/1.2 sans-serif;padding:.4em .6em;border-radius:.3em;box-shadow:0 2px 6px #0000004d;opacity:0;pointer-events:none;transition:opacity .15s ease,transform .15s ease;z-index:1000}.tooltip:hover:after{opacity:1;transform:translate(-50%) translateY(-4px)}.caravan-info{display:flex;flex-direction:column;gap:.2rem}#caravanTimer,#caravanAmountsLine{font-family:Orbitron,monospace;font-size:calc(var(--ui-font-size) * .75);line-height:1.2;margin-bottom:.05rem;text-align:center}#caravanAmountsLine .stat-line{justify-content:center}.caravan-info .stat-line{display:flex;align-items:center;justify-content:space-between;white-space:nowrap;font-family:Orbitron,monospace;font-size:calc(var(--ui-font-size) * .75);line-height:1.2;text-align:left}.caravan-info .stat-label{min-width:4ch;text-align:left}.caravan-info .stat-value{min-width:4ch;text-align:right;font-variant-numeric:tabular-nums}#timeReinforcements,#sizeReinforcements,#caravanTimer,#caravanAmountsLine,.bonus-blocked-notification p,.bonus-blocked-notification small{font-family:Orbitron,monospace;font-size:calc(var(--ui-font-size) * .75);line-height:1.2;margin-bottom:.05rem;text-align:center}.widget h2{margin-bottom:.05rem}.widget{padding:.6%}.caravan-timer-text{color:#888;font-weight:400}.bonus-blocked-notification{background:var(--clr-widget-bg)!important;color:var(--clr-text-light);border-radius:8%;text-align:center;animation:slideInFromTop .3s ease-out}.bonus-blocked-notification .bonus-blocked-content{display:flex;flex-direction:column;align-items:center;gap:.2rem}.bonus-blocked-notification .bonus-blocked-content i{font-size:calc(var(--ui-font-size) * .85);opacity:.8;color:#ff9800}.widget.bonus-notification{position:relative;background:linear-gradient(135deg,#6a1b9a,#8e24aa)!important;border:2px solid #9c27b0;border-radius:.8rem;padding:.8rem;cursor:pointer;transition:all .3s ease;overflow:hidden;user-select:none;margin-bottom:inherit}.widget.bonus-notification:hover{background:linear-gradient(135deg,#7b1fa2,#9c27b0)!important;border-color:#ab47bc;transform:translateY(-2px);box-shadow:0 4px 12px #9c27b04d}.widget.bonus-notification.hidden{display:none}.widget.bonus-notification:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);animation:bonusShine 2s infinite}@keyframes bonusShine{0%{left:-100%}to{left:100%}}.widget.bonus-notification .bonus-icon{position:relative;display:flex;align-items:center;justify-content:center;margin-bottom:.5rem}.widget.bonus-notification .bonus-icon:after{content:"";position:absolute;top:50%;left:60%;transform:translateY(-50%);width:0;height:0;border-left:6px solid #ffffff;border-top:4px solid transparent;border-bottom:4px solid transparent;opacity:.8;animation:caravanArrow 2s ease-in-out infinite}@keyframes caravanArrow{0%,to{transform:translateY(-50%) translate(0);opacity:.8}50%{transform:translateY(-50%) translate(3px);opacity:1}}.widget.bonus-notification .bonus-icon i{font-size:2rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);animation:bonusPulse 1.5s infinite}@keyframes bonusPulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.widget.bonus-notification .bonus-timer{position:absolute;top:.5rem;right:.5rem;background:#f44336;color:#fff;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:700;box-shadow:0 2px 4px #0000004d;animation:timerPulse 1s infinite}@keyframes timerPulse{0%,to{transform:scale(1);background:#f44336}50%{transform:scale(1.1);background:#ff5722}}.widget.bonus-notification .bonus-text{text-align:center;color:#fff;font-size:.9rem;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3);line-height:1.3}.widget.bonus-notification .bonus-text small{display:block;margin-top:2px;font-size:.7rem;opacity:.9;color:#e8f5e8}.bonus-modal-content{background:#2a2936;border-radius:.75rem;padding:1.5rem;text-align:center;max-width:400px;width:90%;color:var(--clr-text-light)}.bonus-simulation h2{font-family:Orbitron,sans-serif;color:var(--clr-text-light);margin-bottom:1rem}.bonus-simulation p{font-family:Orbitron,monospace;font-size:calc(var(--ui-font-size) * .7);color:var(--clr-text-light);margin-bottom:.8rem}.bonus-progress{background:var(--clr-widget-bg);height:8px;border-radius:4px;margin:1rem 0;overflow:hidden}.bonus-progress-bar{background:linear-gradient(90deg,#ff6b35,#f7931e);height:100%;width:0%;transition:width .1s linear;border-radius:4px}.bonus-simulation button{background:#6a1b9a;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:.5rem;font-size:.9rem;cursor:pointer;transition:background .2s;font-family:Orbitron,sans-serif}.bonus-simulation button:hover:not(:disabled){background:#4a148c}.bonus-simulation button:disabled{background:#666;cursor:not-allowed;opacity:.6}.caravan-blink{animation:caravan-bonus-blink .5s ease-in-out}.reinforcement-blink{animation:reinforcement-bonus-blink .5s ease-in-out}@keyframes caravan-bonus-blink{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@keyframes reinforcement-bonus-blink{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@media (max-width: 768px){.bonus-modal-content{padding:1rem;margin:1rem}}.widget.bonus-notification .material-icons{font-family:Material Icons;font-weight:400;font-style:normal;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr}.widget.bonus-blocked-notification{background:linear-gradient(135deg,#ff9800,#f57c00)!important;color:#fff;padding:8px 12px;border-radius:6px;box-shadow:0 1px 4px #0003;text-align:center;font-size:.75rem;animation:slideInFromTop .3s ease-out;opacity:.9;margin-bottom:inherit}.widget.bonus-blocked-notification .bonus-blocked-content{display:flex;flex-direction:column;align-items:center;gap:3px}.widget.bonus-blocked-notification .bonus-blocked-content i{font-size:1rem;opacity:.8}.widget.bonus-blocked-notification .bonus-blocked-content p{margin:0;font-weight:400;font-size:.75rem}.widget.bonus-blocked-notification .bonus-blocked-content small{opacity:.7;font-size:.65rem}@keyframes slideInFromTop{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.bonus-blocked-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:9999;font-family:Montserrat,sans-serif}.bonus-blocked-modal-content{background:linear-gradient(135deg,#2a2936,#1e1b26);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:24px;max-width:480px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #0000004d;animation:modalSlideIn .3s ease-out;font-size:calc(var(--ui-font-size) * .9)}.bonus-blocked-header{display:flex;align-items:center;gap:12px;margin-bottom:16px;color:#ff6b35}.bonus-blocked-header i{font-size:calc(var(--ui-font-size) * 1.8)}.bonus-blocked-header h3{margin:0;font-size:calc(var(--ui-font-size) * 1.17);font-weight:600;color:#fff}.bonus-blocked-body{color:#ccc;line-height:1.4;margin-bottom:16px}.bonus-blocked-body p{margin:0 0 8px}.bonus-blocked-body ul{margin:8px 0;padding-left:15px}.bonus-blocked-body li{margin:8px 0;font-size:calc(var(--ui-font-size) * .85)}.bonus-blocked-footer{display:flex;justify-content:center}.bonus-blocked-btn{background:#6a1b9a;color:#fff;border:none;padding:12px 32px;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.bonus-blocked-btn:hover{background:#4a148c}@keyframes modalSlideIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 480px){.bonus-blocked-modal-content{padding:16px;margin:16px}.bonus-blocked-header h3{font-size:1.1rem}.bonus-blocked-body{font-size:.9rem}}.caravan-info{position:relative}.caravan-timer-line{position:relative;min-height:1.5rem;display:flex;align-items:center;justify-content:center}.caravan-timer-line .stat-label.caravan-timer-text{display:block;text-align:center;font-family:Roboto Mono,monospace;font-size:calc(var(--ui-font-size) * .75);line-height:1.2;width:100%}.caravan-ad-button{position:absolute;top:0;left:0;right:0;height:1.5rem;padding:.1rem;background:linear-gradient(135deg,#6a1b9a,#8e24aa);border:none;border-radius:.4rem;color:#fff;font-family:Roboto Mono,monospace;font-size:.75rem;cursor:pointer;display:flex;align-items:center;justify-content:flex-start;gap:.25rem;transition:all .3s ease;overflow:visible}.caravan-ad-button:disabled{opacity:.7;cursor:not-allowed;background:linear-gradient(135deg,#666,#888);pointer-events:none;justify-content:flex-start;padding:.05rem}.caravan-ad-button:disabled .material-icons:first-child,.caravan-ad-button:disabled span:not(.caravan-ad-timer),.caravan-ad-button:disabled .caravan-ad-timer{display:none}.caravan-ad-button:disabled .material-icons:nth-child(2){display:block;font-size:1.1rem;position:absolute;left:var(--timer-offset, 0%);top:50%;transform:translateY(-50%);transition:left 0s linear;width:1.1rem;height:1.1rem;text-align:center;line-height:1.1rem}.caravan-ad-button.active{opacity:1;animation:pulse-ad 2s infinite;box-shadow:0 0 10px #ff6b3599;pointer-events:auto;background:linear-gradient(135deg,#ff6b35,#f7931e);justify-content:center;padding:.25rem .5rem}.caravan-ad-button.active.unavailable{background:linear-gradient(135deg,#666,#888);box-shadow:0 0 10px #8080804d;animation:none}.caravan-ad-button.active .material-icons:first-child,.caravan-ad-button.active span:not(.caravan-ad-timer),.caravan-ad-button.active .caravan-ad-timer{display:inline;position:static}.caravan-ad-button.active .material-icons:nth-child(2){display:none}.caravan-ad-button:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 2px 8px #ff6b3566}.caravan-ad-button .material-icons{position:relative;font-size:.9rem;transition:transform .1s linear}.caravan-ad-button .material-icons:first-child{animation:ad-icon-pulse 1.5s ease-in-out infinite}.caravan-ad-button:not(.active) .material-icons:nth-child(2){animation:caravan-truck-travel 2s ease-in-out infinite alternate}.caravan-ad-timer{display:none;font-size:.8rem;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}.caravan-ad-button.active .caravan-ad-timer{display:inline}.caravan-ad-button span:not(.caravan-ad-timer){font-size:.7rem;font-weight:500}@keyframes caravan-truck-travel{0%{transform:translateY(-50%) translateY(0)}to{transform:translateY(-50%) translateY(-1px)}}@keyframes ad-icon-pulse{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}}@keyframes pulse-ad{0%,to{transform:scale(1)}50%{transform:scale(1.03)}}.caravan-timer{position:absolute;top:-.3rem;right:-.3rem;background:#000c;color:#fff;font-size:.7rem;font-weight:700;padding:.1rem .3rem;border-radius:.3rem;font-family:Roboto Mono,monospace;min-width:1.2rem;text-align:center;z-index:10;box-shadow:0 1px 3px #0000004d}
